<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 æ±äº¬æ–°æ½Ÿ Â· çµ‚æ¥µå…¨æ”»ç•¥</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #4A5D23; /* æˆ¶å¤–å¤§åœ°ç¶  */
            --secondary: #D97706; /* æº«æš–æœ¨è³ªæ©˜ */
            --info: #3b82f6; /* ç§‘æŠ€è— */
            --bg: #FDFBF7;
            --card-bg: #ffffff;
            --stone-100: #f5f5f4;
            --stone-800: #292524;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, "Noto Sans TC", "å¾®è»Ÿæ­£é»‘é«”", sans-serif; margin: 0; background: var(--bg); color: #333; padding-bottom: 120px; line-height: 1.5; }
        
        header { background: var(--primary); color: white; padding: 45px 24px 25px; border-bottom-left-radius: 40px; border-bottom-right-radius: 40px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); }
        .trip-tag { font-size: 10px; font-weight: bold; letter-spacing: 2px; opacity: 0.8; margin-bottom: 5px; }
        h1 { font-size: 26px; margin: 5px 0; font-weight: 900; }
        .hotel-badge { background: rgba(255,255,255,0.15); padding: 10px 14px; border-radius: 12px; font-size: 12px; margin-top: 15px; border: 1px solid rgba(255,255,255,0.2); display: block; }

        nav { position: sticky; top: 0; z-index: 100; background: rgba(253, 251, 247, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid #e5e7eb; padding: 12px 0; }
        .nav-scroll { display: flex; overflow-x: auto; gap: 10px; padding: 0 16px; scrollbar-width: none; }
        .nav-scroll::-webkit-scrollbar { display: none; }
        .day-btn { flex-shrink: 0; width: 56px; height: 56px; border-radius: 14px; border: 1px solid #ddd; background: white; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: 0.3s; }
        .day-btn.active { background: var(--primary); color: white; border: none; box-shadow: 0 4px 12px rgba(74, 93, 35, 0.3); }
        .day-btn span:first-child { font-size: 9px; font-weight: bold; }
        .day-btn span:last-child { font-size: 18px; font-weight: 900; }

        .container { max-width: 600px; margin: 24px auto; padding: 0 16px; }
        .analysis-card { background: white; padding: 20px; border-radius: 28px; border: 1px solid #eee; display: grid; grid-template-columns: 100px 1fr; gap: 16px; align-items: center; margin-bottom: 30px; }
        .chart-container { width: 100px; height: 100px; position: relative; }
        .chart-center { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; pointer-events: none; }

        .timeline { position: relative; padding-left: 10px; }
        .timeline-line { position: absolute; left: 20px; top: 0; bottom: 0; width: 2px; background: var(--stone-100); }
        .item { position: relative; padding-left: 45px; margin-bottom: 40px; }
        .item-dot { position: absolute; left: 10px; top: 0; width: 22px; height: 22px; background: white; border: 2px solid var(--primary); border-radius: 50%; z-index: 2; display: flex; align-items: center; justify-content: center; font-size: 12px; }

        .time-badge { font-family: monospace; font-size: 12px; font-weight: 700; color: #888; background: #eee; padding: 2px 6px; border-radius: 4px; }
        .item-title { font-size: 18px; font-weight: 800; margin: 6px 0 4px; color: var(--stone-800); }
        .item-note { font-size: 14px; color: #555; margin-bottom: 10px; }

        .info-box { background: #f9fafb; border-radius: 12px; padding: 12px; margin-bottom: 8px; border: 1px solid #f0f0f0; border-left: 4px solid #ddd; }
        .info-title { font-size: 11px; font-weight: bold; color: var(--primary); margin-bottom: 4px; display: flex; align-items: center; gap: 4px; }
        .transport-box { border-left-color: var(--primary); background: #f0f4e8; }
        .dining-box { border-left-color: var(--secondary); background: #fff7ed; }
        .shopping-box { border-left-color: #3b82f6; background: #f0f4f8; }

        .btn-group { display: flex; gap: 8px; margin-top: 12px; }
        .btn { flex: 1; padding: 10px; border-radius: 10px; text-decoration: none; font-size: 12px; font-weight: bold; text-align: center; transition: 0.2s; }
        .btn-nav { background: var(--primary); color: white; }
        .btn-map { background: white; color: var(--primary); border: 1px solid var(--primary); }

        .footer-nav { position: fixed; bottom: 20px; left: 20px; right: 20px; background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); color: white; padding: 16px 24px; border-radius: 24px; display: flex; justify-content: space-between; align-items: center; z-index: 200; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
    </style>
</head>
<body>

    <header>
        <div class="trip-tag">PREMIUM TRAVEL DASHBOARD 2026</div>
        <h1>TOKYO & NIIGATA<br>çµ‚æ¥µå…¨æ”»ç•¥</h1>
        <div id="hotel-info" class="hotel-badge">è¼‰å…¥ä¸­...</div>
    </header>

    <nav><div class="nav-scroll" id="day-nav"></div></nav>

    <main class="container">
        <div class="analysis-card" id="day-summary"></div>
        <div class="timeline">
            <div class="timeline-line"></div>
            <div id="timeline-list"></div>
        </div>
    </main>

    <div class="footer-nav">
        <div>
            <div style="font-size: 10px; color: #aaa; font-weight: bold;">VIEWING STATUS</div>
            <div id="footer-status" style="font-weight: 800; font-size: 14px;"></div>
        </div>
        <button onclick="window.scrollTo({top:0, behavior:'smooth'})" style="background:none; border:none; color:white; font-size:24px; cursor:pointer;">â–²</button>
    </div>

    <script>
        const itineraryData = [
          {
            day: 1, date: "01/17 (Sat)", title: "æŠµé”æ±äº¬ï¼šä¸Šé‡è£œçµ¦",
            hotel: "Tosei Hotel Cocone Ueno Okachimachi",
            summary: "å¾æ·¡æ°´å‡ºç™¼å‰å¾€æˆç”°ï¼Œå…¥ä½ä¸Šé‡ä¸¦è£œé½Š Outdoor æˆ°å‚™ã€‚",
            stats: { travel: 40, shopping: 40, food: 20, sightseeing: 0 },
            items: [
              { time: "03:50-05:15", title: "æ·¡æ°´ â†’ æ¡ƒåœ’æ©Ÿå ´ (T2)", type: "transport", note: "å­¸å‹¤è·¯æ¥äººï¼Œè¾¦ç†é•·æ¦® BR184 ç™»æ©Ÿã€‚", transport: "é ç´„æ©Ÿå ´æ¥é€ (ç´„ NT$1,200 - 1,500)ã€‚", map: "æ¡ƒåœ’æ©Ÿå ´ç¬¬äºŒèˆªå»ˆ" },
              { time: "12:30-14:30", title: "æˆç”°æ©Ÿå ´ â†’ äº¬æˆä¸Šé‡", type: "transport", note: "æ­ä¹˜ Skyliner ç‰¹æ€¥å¿«é€Ÿé€²åŸã€‚", transport: "<b>æœˆå°ï¼š</b>äº¬æˆç·š 1 è™Ÿæœˆå°ã€‚<br><b>è»Šè³‡ï¼š</b>2,570 JPYã€‚", map: "äº¬æˆä¸Šé‡é§…" },
              { time: "15:00", title: "é£¯åº— Check-in", type: "transport", note: "å…¥ä½ Tosei Hotel Coconeã€‚", transport: "å¾¡å¾’ç”ºç«™æ­¥è¡Œ 2 åˆ†é˜æˆ–ä¸Šé‡ç«™æ­¥è¡Œ 8 åˆ†é˜ã€‚", map: "Tosei Hotel Cocone Ueno okachimachi" },
              { time: "16:00-19:00", title: "ä¸Šé‡å¾¡å¾’ç”ºè³¼ç‰©", type: "shopping", note: "æ±äº¬æˆ¶å¤–è£å‚™è–åœ°ï¼Œè²·é½Šä¿æš–å±¤ã€‚", shopping: "<b>æ ¸å¿ƒå“ç‰Œï¼š</b>BEAMS, mont-bell æ——è‰¦åº—, BEAVERã€‚", map: "mont-bell Ueno" }
            ]
          },
          {
            day: 2, date: "01/18 (Sun)", title: "æµ·ä¹‹éƒ½ï¼šè‘‰å±±èˆ‡éŒå€‰å¤•é™½",
            hotel: "Tosei Hotel Cocone Ueno Okachimachi",
            summary: "é¿é–‹éŒå€‰æ ¸å¿ƒäººæ½®ï¼Œäº«å—è‘‰å±±å¯§éœæµ·å²¸èˆ‡ä¸ƒé‡Œæ¿±å¤•é™½ã€‚",
            stats: { travel: 35, shopping: 0, food: 25, sightseeing: 40 },
            items: [
              { time: "09:45-11:15", title: "ä¸Šé‡ â†’ é€—å­ â†’ çœŸåç€¨", type: "transport", note: "å‰å¾€è‘‰å±±å¿…æ‹å…¬è»Šç«™èˆ‡é³¥å±…ã€‚", transport: "<b>è·¯ç·šï¼š</b>ä¸Šé‡æ±äº¬ç·šè‡³ã€é€—å­ç«™ã€ï¼Œæ±å£ 3 è™Ÿæœˆå°æ­å·´å£«ã€é€—11/12ã€è‡³ã€çœŸåç€¨ã€ä¸‹è»Šã€‚", map: "çœŸåç€¬ï¼ˆãƒã‚¹ï¼‰" },
              { time: "11:30-13:30", title: "æ£®æˆ¶å¤§æ˜ç¥ & è‘‰å±±åˆé¤", type: "sightseeing", note: "æ‹æµ·ä¸Šé³¥å±…èˆ‡å¯Œå£«å±±ã€‚", dining: "<b>æ¨è–¦ï¼š</b>La MarÃ©e (æ³•å¼æµ·æ™¯) æˆ–éŒå€‰å°ç”ºé€šå»ä»”é­šå£½å¸ã€‚", map: "æ£®æˆ¸å¤§æ˜ç¥" },
              { time: "15:00-17:15", title: "ä¸ƒé‡Œæ¿± & ç¨»æ‘å´å¤•é™½", type: "sightseeing", note: "æ¹˜å—æµ·å²¸çœ‹å¯Œå£«å±±è½æ—¥é¦–é¸ã€‚", transport: "æ­ä¹˜ã€æ±Ÿä¹‹é›»ã€è‡³ä¸ƒé‡Œæ¿±ç«™ï¼Œæ­¥è¡Œå³å¯æŠµé”æµ·ç˜ã€‚", map: "ç¨²æ‘ãƒ¶å´å…¬åœ’" },
              { time: "17:30-19:00", title: "è¿”å›ä¸Šé‡ (Green Car)", type: "transport", note: "é¿é–‹é€šå‹¤äººæ½®ï¼Œäº«å—æ—‹è½‰æ²™ç™¼ä¼‘æ¯ã€‚", transport: "å»ºè­°æœˆå°è³¼è²· Green Ticket (ç¶ è‰²è»Šå»‚)ã€‚", map: "ä¸Šé‡é§…" }
            ]
          },
          {
            day: 3, date: "01/19 (Mon)", title: "é›ªåœ‹ï¼šGALAæ»‘é›ªèˆ‡æº«æ³‰",
            hotel: "è¶Šå¾Œã®ãŠå®¿ ã„ãªã‚‚ã¨ (é è¨ˆ 15:00 å…¥ä½)",
            summary: "æ–°å¹¹ç·šç›´é”é›ªå ´ï¼Œé«”é©—é›ªä¸Šé›»å–®è»Šèˆ‡å—é­šæ²¼ç±³ã€‚",
            stats: { travel: 25, shopping: 0, food: 25, sightseeing: 50 },
            items: [
              { time: "06:50-08:00", title: "ä¸Šé‡ â†’ GALA æ¹¯æ¾¤", type: "transport", note: "æ–°å¹¹ç·šã€ãŸã«ãŒã‚ 73 è™Ÿã€ç›´é”ã€‚", transport: "<b>æœˆå°ï¼š</b>ä¸Šé‡ç«™æ–°å¹¹ç·šåœ°ä¸‹æœˆå°ã€‚å»ºè­°ä½¿ç”¨ JR Passã€‚", map: "GALAæ¹¯æ²¢" },
              { time: "09:50-10:40", title: "GALA Moon Bike é«”é©—", type: "activity", note: "é›ªå ´å…§æœ€æ–°å‹é›»å–®è»Šé«”é©—ã€‚", map: "GALA Yuzawa Snow Resort" },
              { time: "11:30-13:00", title: "åˆé¤ï¼šé›ªå ´é¤å»³ã€Œå…­èŠ±ã€", type: "food", note: "äº«å—å—é­šæ²¼ç”¢è¶Šå…‰ç±³æ–™ç†ã€‚", dining: "<b>å¿…é»ï¼š</b>æ–°æ½Ÿåç”¢è¶Šå…‰ç±³å®šé£Ÿã€‚", map: null },
              { time: "18:30-20:00", title: "æ™šé¤ï¼šä¸­é‡å±‹è•éº¥éºµ", type: "food", note: "æ¹¯æ¾¤ç«™å‰å¿…åƒååº—ï¼Œæ¨è–¦èˆèŒ¸å¤©å©¦ç¾…ã€‚", map: "ä¸­é‡å±‹ æ¹¯æ²¢æœ¬åº—" }
            ]
          },
          {
            day: 4, date: "01/20 (Tue)", title: "æ–°æ½Ÿï¼šæµ·é®®èˆ‡å±•æœ›å…¨æ™¯",
            hotel: "è¶Šå¾Œã®ãŠå®¿ ã„ãªã‚‚ã¨",
            summary: "æ–°æ½Ÿå¸‚å ´ç¾é£Ÿèˆ‡æ—¥æœ¬æµ·å…¨æ™¯å±•æœ›ã€‚",
            stats: { travel: 30, shopping: 20, food: 30, sightseeing: 20 },
            items: [
              { time: "11:30-13:30", title: "Pia Bandai æ¸¯é£Ÿå ‚", type: "food", note: "æ–°æ½Ÿæœ€å¼·å¸‚å ´ç¾é£Ÿã€‚", dining: "<b>å¿…åƒï¼š</b>çˆ†é‡é®­é­šåµä¸¼é£¯ (ç”¢åœ°ç›´é€)ã€‚", map: "Pia Bandai" },
              { time: "14:00-15:00", title: "Befco å±•æœ›å®¤", type: "sightseeing", note: "31æ¨“ä¿¯ç°æ—¥æœ¬æµ·èˆ‡ä¿¡æ¿ƒå·ã€‚", map: "Befco Toki Messe Observatory" },
              { time: "15:30-17:00", title: "ç™½å±±ç¥ç¤¾ & å¤ç”ºè€è¡—", type: "sightseeing", note: "ç¥ˆæ±‚å¹³å®‰èˆ‡é¸è³¼æ¸…é…’ä¼´æ‰‹ç¦®ã€‚", shopping: "<b>å¿…è²·ï¼š</b>æ¸…é…’æ¼¬é®­é­šåµã€ç•¶åœ°åœ°é…’ã€‚", map: "æ–°æ½Ÿç™½å±±ç¥ç¤¾" }
            ]
          },
          {
            day: 5, date: "01/21 (Wed)", title: "æ–‡é’æ±äº¬ï¼šé¸ç‰©åº—èˆ‡ç‡ˆæµ·",
            hotel: "Tosei Hotel Cocone Ueno Okachimachi",
            summary: "å›æ±äº¬ Check-in å¾Œå‰å¾€ä»£å®˜å±±é¸ç‰©åº—å·¡ç¦®ã€‚",
            stats: { travel: 25, shopping: 50, food: 15, sightseeing: 10 },
            items: [
              { time: "13:00-16:30", title: "ä»£å®˜å±±/ä¸­ç›®é»‘è³¼ç‰©", type: "shopping", note: "æ—¥ç³»è³ªæ„Ÿèˆ‡æˆ¶å¤–é¢¨æ ¼æ ¸å¿ƒã€‚", shopping: "<b>æ¨è–¦ï¼š</b>nanamica æ——è‰¦åº—, 1LDK, White Mountaineeringã€‚", map: "nanamica Daikanyama" },
              { time: "17:30-19:30", title: "å…­æœ¬æœ¨ç‡ˆæµ·æ™‚é–“", type: "sightseeing", note: "äº«å—è—ç™½ç‡ˆæµ·èˆ‡éš±è—æ™¯é»ã€‚", transport: "<b>ç§æˆ¿æ¨ï¼š</b>è‹¥æ«¸å‚äººå¤šï¼Œå¯å» Midtown æ—çš„ã€æªœç”ºå…¬åœ’ã€ï¼Œç‡ˆå…‰å„ªé›…äººæ½®å°‘ã€‚", dining: "<b>æ™šé¤ï¼š</b>AFURI æŸšå­æ‹‰éºµã€‚", map: "å…­æœ¬æœ¨ã‘ã‚„ãå‚" }
            ]
          },
          {
            day: 6, date: "01/22 (Thu)", title: "å·è¶Šï¼šå°æ±Ÿæˆ¶æ¼¢å ¡èˆ‡è€è¡—",
            hotel: "Tosei Hotel Cocone Ueno Okachimachi",
            summary: "ç¥ç¤¾é‡£é¯›é­šã€å¿…åƒç‚­ç«ç¾çƒ¤æ¼¢å ¡ã€‚",
            stats: { travel: 30, shopping: 15, food: 25, sightseeing: 30 },
            items: [
              { time: "11:15", title: "å·è¶Šç«™ â†’ å†°å·ç¥ç¤¾", type: "transport", note: "æ­ä¹˜å¾©å¤å·¡è¿´å·´å£«ã€‚", transport: "<b>ç¥¨åˆ¸ï¼š</b>è¥¿å£ 2 è™Ÿæœˆå°è²·å°æ±Ÿæˆ¶ä¸€æ—¥ç¥¨ (500 JPY)ã€‚", map: "å·è¶Šæ°·å·ç¥ç¤¾" },
              { time: "11:30-13:00", title: "åˆé¤ï¼šHonohono æ¼¢å ¡", type: "food", note: "ç¥ç¤¾æ—ç‚­ç«ç¾çƒ¤ï¼Œå¿…åƒæ¨è–¦ã€‚", map: "Kawagoe Burger Honohono" },
              { time: "14:00-16:00", title: "è—é€ è€è¡—æ·±åº¦æ¢ç´¢", type: "sightseeing", note: "æ¨è–¦ã€è“å­å±‹æ©«ä¸ã€èˆ‡ã€å–œå¤šé™¢ã€ã€‚", shopping: "<b>ä¼´æ‰‹ç¦®ï¼š</b>åœ°ç“œæ£’ã€åœ°ç“œç”œé»ã€‚", map: "è“å­å±‹æ¨ªä¸" }
            ]
          },
          {
            day: 7, date: "01/23 (Fri)", title: "æ©«æ¿±ï¼šè³¼ç‰©èˆ‡å·¨å¤§é‹¼å½ˆ",
            hotel: "Tosei Hotel Cocone Ueno Okachimachi",
            summary: "æ©«æ¿±æ¸¯ç£æ¼«éŠï¼Œé›†è³¼ç‰©ã€ç¾é£Ÿèˆ‡ç§‘æŠ€æ–¼ä¸€èº«ã€‚",
            stats: { travel: 20, shopping: 45, food: 20, sightseeing: 15 },
            items: [
              { time: "11:00-13:30", title: "World Porters è³¼ç‰©", type: "shopping", note: "æˆ¶å¤–ç”¨å“è£œè²¨èˆ‡ç¾é£Ÿè¡—ã€‚", map: "Yokohama World Porters" },
              { time: "14:00-15:30", title: "åˆå‘³é“ç´€å¿µé¤¨", type: "activity", note: "è£½ä½œå€‹äººæ¯éºµï¼Œéœ€ææ—©é ç´„ã€‚", map: "Cup Noodle Museum" },
              { time: "16:00-17:30", title: "é‹¼å½ˆå·¥å» è¡¨æ¼”", type: "sightseeing", note: "è§€è³ 1:1 ç§»å‹•é‹¼å½ˆè¡¨æ¼”ã€‚", map: "GUNDAM FACTORY YOKOHAMA" },
              { time: "17:30-18:30", title: "æ©«æ¿±ä¸­è¯è¡—é»å¿ƒ", type: "food", note: "æ•£æ­¥ç¾é£Ÿï¼šç†Šè²“åŒ…å­ã€å¤§é¦¬è¹„ç­åŒ…ã€‚", map: "æ©«æ¿±ä¸­è¯è¡—" }
            ]
          },
          {
            day: 8, date: "01/24 (Sat)", title: "çµ‚ç« ï¼šæ˜æ²»ç¥å®®æ•£ç­–èˆ‡æ­¸é€”",
            hotel: "Check-out 11:00 å‰",
            summary: "æœ€å¾Œè¡åˆºåŸå®¿æˆ¶å¤–å“ç‰Œï¼Œæ­ Skyliner å‰å¾€æ©Ÿå ´ã€‚",
            stats: { travel: 40, shopping: 30, food: 15, sightseeing: 15 },
            items: [
              { time: "09:30-11:30", title: "æ˜æ²»ç¥å®®æ¸…æ™¨æ•£ç­–", type: "sightseeing", note: "ç©¿éå·¨å¤§çš„é³¥å±…ï¼Œäº«å—åŸå¸‚æ£®æ—ã€‚", dining: "<b>æ¨è–¦ï¼š</b>åŸå®¿ã€AFURIã€æ‹‰éºµæˆ–ã€ã¾ã„æ³‰ã€è±¬æ’ã€‚", map: "æ˜æ²»ç¥å®®" },
              { time: "13:00-16:00", title: "åŸå®¿/è¡¨åƒé“æœ€å¾Œè£œè²¨", type: "shopping", note: "æœ€å¾Œè¡åˆºã€‚", shopping: "<b>æ ¸å¿ƒå“ç‰Œï¼š</b>BEAMS Harajuku, Porter Stand, TNF Standardã€‚", map: "åŸå®¿ BEAMS" },
              { time: "17:20", title: "äº¬æˆä¸Šé‡ â†’ æˆç”°æ©Ÿå ´", type: "transport", note: "æ­ä¹˜ Skyliner å‰å¾€ T1 å›åœ‹ã€‚", transport: "<b>è³¼ç¥¨ï¼š</b>ä¸Šé‡ç«™å”®ç¥¨æ©Ÿï¼Œ19:00 å‰éœ€æŠµé”æ«ƒæª¯ã€‚", map: "æˆç”°å›½éš›ç©ºæ¸¯" }
            ]
          }
        ];

        let activeDay = 0;
        let chartInstance = null;

        function getIcon(type) {
            const icons = { transport: 'ğŸš†', shopping: 'ğŸ›ï¸', food: 'ğŸ±', sightseeing: 'ğŸ“¸', activity: 'â„ï¸' };
            return icons[type] || 'ğŸ“';
        }

        function renderDay() {
            const data = itineraryData[activeDay];
            document.getElementById('hotel-info').innerHTML = `ğŸ  ä½å®¿è³‡è¨Šï¼š${data.hotel}`;
            document.getElementById('footer-status').innerText = `Day ${data.day} Â· ${data.date}`;

            const nav = document.getElementById('day-nav');
            nav.innerHTML = itineraryData.map((d, i) => `
                <div class="day-btn ${i === activeDay ? 'active' : ''}" onclick="switchDay(${i})">
                    <span>JAN</span><span>${d.date.split('/')[1].split(' ')[0]}</span>
                </div>
            `).join('');

            const summary = document.getElementById('day-summary');
            summary.innerHTML = `
                <div class="chart-container"><canvas id="dayChart"></canvas><div class="chart-center">
                <span style="font-size:9px; font-weight:bold; color:#888;">DAY</span>
                <span style="font-size:22px; font-weight:900; color:var(--primary);">${data.day}</span></div></div>
                <div><h3 style="margin:0; font-size:16px;">${data.title}</h3><p style="font-size:11px; color:#666; margin:4px 0;">${data.summary}</p></div>
            `;

            const list = document.getElementById('timeline-list');
            list.innerHTML = data.items.map(item => `
                <div class="item">
                    <div class="item-dot">${getIcon(item.type)}</div>
                    <div class="time-badge">${item.time}</div>
                    <div class="item-title">${item.title}</div>
                    <div class="item-note">${item.note}</div>
                    ${item.transport ? `<div class="info-box transport-box"><div class="info-title">ğŸš‡ äº¤é€šæŒ‡å—</div><div class="info-content">${item.transport}</div></div>` : ''}
                    ${item.dining ? `<div class="info-box dining-box"><div class="info-title">ğŸ± ç¾é£Ÿèˆ‡ç”¨é¤</div><div class="info-content">${item.dining}</div></div>` : ''}
                    ${item.shopping ? `<div class="info-box shopping-box"><div class="info-title">ğŸ·ï¸ æ¨è–¦å“ç‰Œ/å¿…è²·</div><div class="info-content">${item.shopping}</div></div>` : ''}
                    ${item.map ? `<div class="btn-group">
                        <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.map)}" class="btn btn-nav" target="_blank">Google å°èˆª</a>
                        <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(item.map)}" class="btn btn-map" target="_blank">æŸ¥çœ‹åœ°åœ–</a>
                    </div>` : ''}
                </div>
            `).join('');

            updateChart(data.stats);
        }

        function updateChart(stats) {
            if (chartInstance) chartInstance.destroy();
            const ctx = document.getElementById('dayChart').getContext('2d');
            chartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: { datasets: [{ data: [stats.travel, stats.shopping, stats.food, stats.sightseeing], backgroundColor: ['#A8A29E', '#3b82f6', '#F59E0B', '#4A5D23'], borderWidth: 0 }] },
                options: { cutout: '75%', plugins: { tooltip: { enabled: false }, legend: { display: false } } }
            });
        }

        function switchDay(i) {
            activeDay = i;
            renderDay();
            window.scrollTo({top: 0, behavior: 'smooth'});
        }

        window.onload = renderDay;
    </script>
</body>
</html>
